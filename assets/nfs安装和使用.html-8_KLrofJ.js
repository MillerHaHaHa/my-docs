import{_ as e,o as t,c as n,e as a}from"./app-CmOngkEL.js";const d={},s=a(`<h1 id="nfs-安装和使用" tabindex="-1"><a class="header-anchor" href="#nfs-安装和使用"><span>nfs 安装和使用</span></a></h1><p>固定端口</p><p><code>vim /etc/default/nfs-kernel-server</code></p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>RPCMOUNTDOPTS=&quot;--manage-gids --port &lt;mountd_port_number&gt;&quot;
RPCNLOCKDOPTS=&quot;--port &lt;nlockmgr_port_number&gt;&quot;
RPCRQUOTADOPTS=&quot;--port &lt;rquotad_port_number&gt;&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>systemctl restart nfs-kernel-server</code></p><p>查看 rpc 端口情况</p><p><code>rpcinfo -p</code></p><p>防火墙，nlockmgr 端口根据实际情况，mountd 端口使用上面固定的</p><blockquote><p>TCP/UDP 端口 2049： 这是 NFS 服务器上的主要端口，用于 NFS 数据传输和挂载。</p><p>UDP 端口 111： 这是 RPC (Remote Procedure Call) 绑定端口，NFS 使用它来注册 RPC 服务。</p><p>UDP 端口 32765 至 32768： 这是 NFS 的动态端口范围，用于一些辅助协议，如 NFS 锁管理（nlockmgr）和远程配额（rquotad）</p></blockquote><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo ufw allow 2049/tcp
sudo ufw allow 2049/udp
sudo ufw allow 111/udp
sudo ufw allow 32765:32768/udp
sudo ufw reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>挂载</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo mount -t nfs -o nolock 192.168.0.111:/mnt/sdc1/work/project/rp /mnt/nfs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>卸载</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo umount /mnt/nfs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,14),l=[s];function i(o,r){return t(),n("div",null,l)}const c=e(d,[["render",i],["__file","nfs安装和使用.html.vue"]]),m=JSON.parse('{"path":"/learn/linux/nfs%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html","title":"nfs 安装和使用","lang":"zh-CN","frontmatter":{},"headers":[],"git":{"updatedTime":1713184188000,"contributors":[{"name":"huangmingle","email":"huangmingle@goke.com","commits":1}]},"filePathRelative":"learn/linux/nfs安装和使用.md"}');export{c as comp,m as data};
